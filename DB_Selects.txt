### Anzahl eines Bestimmten Belages zu einer Produktbestellung
SELECT belag_ID, count(*) AS anzahl FROM belagzubestellung
WHERE produktzubestell_ID = 1
GROUP BY belag_ID


### Alle Produkte einer Kategorie (Pizza)

SELECT produktkat.name, 
produkt.ID, 
produkt.name,
produkt.comment
 
From produkt, produktkat

WHERE produkt.kat_ID = 1 
AND produkt.kat_ID = produktkat.ID
ORDER BY Produkt.ID



###Auflistung aller in die Datenbank eingetragenen Beläge

SELECT belagkat.ID, 
belagkat.name,
belag.name,
belag.value

FROM belag, belagkat
WHERE belag.kat_ID = belagkat.ID
ORDER BY belagkat.ID



### Auflistung aller Belagkategorien die mit der Produktkategorie 'Pizza' verknüpft sind

SELECT belagkat.ID,
belagkat.name

FROM belagkat, produktkat, belagkatzuproduktkat
WHERE produktkat.ID = 1
AND produktkat.ID = belagkatzuproduktkat.produktkat_ID
AND belagkatzuproduktkat.belagkat_ID = belagkat.ID



### Was kostet extra Gorgonzola auf einer Medium Pizza?

SELECT belag.name,
belag.value,
size.name,
belagpreis.preis

FROM belag, belagpreis, size
WHERE belag.ID = 2
AND belagpreis.size = 2
AND belag.value = belagpreis.value
AND belagpreis.size = size.size



### Beispielausgabe für Pizza "Texas" (ID 7)

## Ausgabe Name, Comment

SELECT produkt.name, produkt.comment
FROM produkt
WHERE produkt.ID = 7 

## Ausgabe Aller Zutaten:

SELECT belag.name

FROM produkt, belag, belagzuprodukt
WHERE produkt.ID = 7
AND produkt.ID = belagzuprodukt.produkt_ID
AND belagzuprodukt.belag_ID = belag.ID

## Ausgabe der Größen und Preise

SELECT size.name, produktpreis.preis

FROM produkt, produktpreis, size
WHERE produkt.ID = 7
AND produktpreis.produkt_ID = produkt.ID
AND size.size = produktpreis.size
ORDER BY produktpreis.preis


### Alle offenen Bestellungen

SELECT * From kunde, bestellung
WHERE bestellung.done = 0
AND kunde.ID = bestellung.kunde_ID 
ORDER BY bestellung.datum



### Beispielausgabe einer kompletten Bestellung (ID 1)
##Auflistung aller Produkte der Bestellung

SELECT produktzubestellung.ID,
bestellung.Datum, 
produktkat.name,
produkt.name,
size.name,
produktpreis.preis

From kunde, bestellung, produktzubestellung, produkt, produktpreis, produktkat, size

WHERE bestellung.ID = 1 
AND kunde.ID = bestellung.kunde_ID
AND produktzubestellung.bestell_ID = bestellung.ID 
AND produkt.ID = produktzubestellung.produkt_ID
AND produkt.ID = produktpreis.produkt_ID
AND produkt.kat_ID = produktkat.ID
AND produktpreis.size = produktzubestellung.size
AND produktzubestellung.size = size.size
ORDER BY produkt.kat_ID

##Auflistung der ausgewählten extras zur Pizza Salami (Produktzubestellung.ID = 1)

SELECT belag.name, belagpreis.preis

FROM produktzubestellung, belagzubestellung, belag, belagpreis

WHERE belagzubestellung.produktzubestell_ID = 1
AND belagzubestellung.belag_ID = belag.ID
AND belag.value = belagpreis.value
AND produktzubestellung.size = belagpreis.size






 
 